---
import Row from "./Row.astro";
import Card from "./Card.astro";

interface TableProps {
  players: IndusPlayer[];
}

const { players } = Astro.props as TableProps;
const topThreePlayers = players.slice(0, 3);
---

<div class="container mx-auto px-4 py-8">
  <div class="mb-4">
    <input
      type="text"
      placeholder="Search for players"
      class="w-full p-2 rounded bg-gray-800 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"
    />
  </div>

  <div class="overflow-x-auto">
    <table class="w-full border-collapse table-auto hidden md:table">
      <thead>
        <tr class="bg-gray-800">
          <th class="p-3 text-left">Name</th>
          <th
            class="p-3 text-left bg-gradient-to-r from-purple-500 via-pink-500 to-red-600 text-transparent bg-clip-text"
            >IndusPoints</th
          >
          <th class="p-3 text-left">Week Position</th>
          <th class="p-3 text-left">Week Points</th>
          <th class="p-3 text-left">Team Points</th>
          <th class="p-3 text-left">Team Value</th>
        </tr>
      </thead>
      <tbody>
        {players.map((player) => <Row player={player} />)}
      </tbody>
    </table>
  </div>

  <div class="grid grid-cols-1 gap-4 md:hidden">
    {players.map((player) => <Card player={player} />)}
  </div>
</div>
