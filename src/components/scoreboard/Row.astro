---
interface RowProps {
  player: IndusPlayer;
}

const { player } = Astro.props;

const getPositionColor = (position: number) => {
  if (position === 1) return "bg-yellow-500";
  if (position <= 3) return "bg-green-500";
  if (position <= 10) return "bg-blue-500";
  return "bg-gray-500";
};

const getPositionChange = (current: number, previous: number) => {
  if (current < previous)
    return { color: "text-green-400", icon: "M5 10l7-7m0 0l7 7m-7-7v18" };
  if (current > previous)
    return { color: "text-red-400", icon: "M15 10l-7 7m0 0l-7-7m7 7V2" };
  return { color: "text-gray-400", icon: "M8 9l4-4 4 4m0 6l-4 4-4-4" };
};

const positionChange = getPositionChange(
  player.position,
  player.previousPosition
);
---

<tr class="border-b border-gray-700">
  <td class="p-3 flex items-center gap-4">
    <img
      class="w-8 h-8 rounded-full bg-gray-700"
      src={player.team.manager.avatar}
      alt={`${player.team.manager.managerName} avatar`}
    />
    <div>
      <span class="text-lg font-medium text-gray-200">
        {player.team.manager.managerName}
      </span>
      <p class="text-xs text-gray-400">{player.team.teamName}</p>
    </div>
  </td>
  <td class="p-3">{player.position}</td>
  <td class="p-3 text-purple-400">{player.indusPoints}</td>
  <td class="p-3">{player.points}</td>
  <td class="p-3 text-purple-400">{player.team.teamPoints}</td>
  <td class="p-3 text-green-400">${player.team.teamValue.toLocaleString()}</td>
</tr>