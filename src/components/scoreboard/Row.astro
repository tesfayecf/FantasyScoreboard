---
interface RowProps {
  player: IndusPlayer;
}

const { player } = Astro.props;

const getPositionColor = (position: number) => {
  if (position === 1) return "bg-yellow-500";
  if (position <= 3) return "bg-green-500";
  if (position <= 10) return "bg-blue-500";
  return "bg-gray-500";
};

const getPositionChange = (current: number, previous: number) => {
  if (current < previous)
    return { color: "text-green-400", icon: "M5 10l7-7m0 0l7 7m-7-7v18" };
  if (current > previous)
    return { color: "text-red-400", icon: "M15 10l-7 7m0 0l-7-7m7 7V2" };
  return { color: "text-gray-400", icon: "M8 9l4-4 4 4m0 6l-4 4-4-4" };
};

const positionChange = getPositionChange(
  player.position,
  player.previousPosition
);
---

<tr class="bg-gray-900 border-b border-gray-800 hover:bg-gray-850 transition-colors duration-200">
    <!-- Manager Name and Avatar -->
    <td class="px-4 py-3 flex items-center text-white whitespace-nowrap">
      <div class="flex items-center space-x-3">
        <img
          class="w-8 h-8 rounded-full bg-gray-700"
          src={player.team.manager.avatar}
          alt={`${player.team.manager.managerName} avatar`}
        />
        <div>
          <span class="text-lg font-medium text-gray-200">
            {player.team.manager.managerName}
          </span>
          <p class="text-xs text-gray-400">{player.team.teamName}</p>
        </div>
      </div>
    </td>
  
    <!-- Position -->
    <td class="px-4 py-3">
      <span class="text-2xl font-bold text-white">
        {player.position}
      </span>
    </td>
  
  <!-- IndusPoints -->
  <td class="px-4 py-3">
    <div class="inline-flex items-center justify-center bg-gradient-to-r from-yellow-400 to-yellow-600 rounded-full p-0.5">
      <span class="bg-gray-900 text-yellow-400 text-sm font-semibold rounded-full px-3 py-1">
        {player.indusPoints}
      </span>
    </div>
  </td>

  <!-- Points -->
  <td class="px-4 py-3">
    <div class="inline-flex items-center justify-center bg-gradient-to-r from-yellow-400 to-yellow-600 rounded-full p-0.5">
      <span class="bg-gray-900 text-yellow-400 text-sm font-semibold rounded-full px-3 py-1">
        {player.points}
      </span>
    </div>
  </td>

  <!-- Team Points -->
  <td class="px-4 py-3">
    <div class="inline-flex items-center justify-center bg-gradient-to-r from-purple-400 to-purple-600 rounded-full p-0.5">
      <span class="bg-gray-900 text-purple-400 text-sm font-semibold rounded-full px-3 py-1">
        {player.team.teamPoints}
      </span>
    </div>
  </td>
  
    <!-- Team Value -->
    <td class="px-4 py-3">
      <div class="flex flex-col items-start">
        <span class="text-lg font-semibold text-green-400">
          ${player.team.teamValue.toLocaleString()}
        </span>
        <span class="text-lg text-gray-500">Team Value</span>
      </div>
    </td>
  </tr>